<!DOCTYPE html>
<html lang="th">
<head>
    <title>‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏ä‡∏≤‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .tab-active { border-bottom: 2px solid #2563eb; color: #2563eb; font-weight: bold; }
        .tab-inactive { color: #6b7280; }
        
        /* Animation ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Popup */
        @keyframes popupFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .popup-animate {
            animation: popupFadeIn 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-50 p-4 font-sans text-gray-800">

    <div id="infoModal" class="fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center hidden p-4">
        <div class="bg-white p-6 rounded-2xl shadow-2xl max-w-sm w-full text-center popup-animate">
            <div class="text-5xl mb-4">üì≤</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ</h3>
            <p class="text-gray-600 mb-6 text-sm leading-relaxed">
                ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠<br>
                ‡∏ó‡πà‡∏≤‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ <b>"‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"</b><br>
                ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π <b>"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û"</b> ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö
            </p>
            <button onclick="closeModal()" class="bg-blue-600 text-white w-full py-3 rounded-xl font-bold hover:bg-blue-700 shadow-lg active:scale-95 transition">
                ‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö / ‡∏ï‡∏Å‡∏•‡∏á
            </button>
        </div>
    </div>
    <div class="max-w-xl mx-auto">
        <h1 class="text-2xl font-bold mb-4 text-center text-gray-800 pt-4">‚òï ‡∏Ñ‡∏•‡∏±‡∏á‡∏£‡∏π‡∏õ‡πÄ‡∏°‡∏ô‡∏π‡∏ä‡∏≤‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£</h1>

        <div class="flex border-b border-gray-200 mb-6 sticky top-0 bg-gray-50 z-20 pt-2">
            <button onclick="switchTab('watermark')" id="btn-watermark" class="flex-1 pb-3 text-center transition tab-active">
                ‡πÅ‡∏ö‡∏ö‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡πÉ‡∏ô‡∏£‡∏π‡∏õ
            </button>
            <button onclick="switchTab('clean')" id="btn-clean" class="flex-1 pb-3 text-center transition tab-inactive">
                ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡πÉ‡∏ô‡∏£‡∏π‡∏õ
            </button>
        </div>

        <div class="mb-4">
            <input type="text" id="searchInput" onkeyup="filterImages()" 
                   placeholder="üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π..." 
                   class="w-full p-3 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white">
        </div>

        <div id="content-watermark">
            <div id="grid-watermark" class="grid grid-cols-2 gap-4 pb-10 image-grid">
                {% for img in wm_images %}
                <div class="image-card bg-white p-3 rounded-xl shadow-sm border border-gray-100">
                    <img src="{{ img['secure_url'] }}" class="w-full h-40 object-cover rounded-lg mb-2 bg-gray-200">
                    <p class="text-sm font-bold text-gray-800 truncate mb-2 name-label text-center">
                        {{ img['public_id'].split('/')[-1] }}
                    </p>
                    <a href="{{ img['secure_url'] }}" target="_blank" class="block w-full bg-blue-50 text-blue-600 text-center py-2 rounded-lg text-xs font-bold">
                        ‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏ç‡πà
                    </a>
                </div>
                {% endfor %}
                {% if wm_images|length == 0 %} <p class="col-span-2 text-center text-gray-400 mt-10">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÉ‡∏ô‡πÇ‡∏ã‡∏ô‡∏ô‡∏µ‡πâ</p> {% endif %}
            </div>
        </div>

        <div id="content-clean" class="hidden">
            <div id="grid-clean" class="grid grid-cols-2 gap-4 pb-10 image-grid">
                {% for img in cl_images %}
                <div class="image-card bg-white p-3 rounded-xl shadow-sm border border-gray-100">
                    <img src="{{ img['secure_url'] }}" class="w-full h-40 object-cover rounded-lg mb-2 bg-gray-200">
                    <p class="text-sm font-bold text-gray-800 truncate mb-2 name-label text-center">
                        {{ img['public_id'].split('/')[-1] }}
                    </p>
                    <a href="{{ img['secure_url'] }}" target="_blank" class="block w-full bg-green-50 text-green-600 text-center py-2 rounded-lg text-xs font-bold">
                        ‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏ç‡πà
                    </a>
                </div>
                {% endfor %}
                {% if cl_images|length == 0 %} <p class="col-span-2 text-center text-gray-400 mt-10">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÉ‡∏ô‡πÇ‡∏ã‡∏ô‡∏ô‡∏µ‡πâ</p> {% endif %}
            </div>
        </div>
    </div>

    <script>
        // üî• ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: Script ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° Popup
        window.onload = function() {
            // ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ Popup ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à
            document.getElementById('infoModal').classList.remove('hidden');
        }

        function closeModal() {
            // ‡∏™‡∏±‡πà‡∏á‡∏ã‡πà‡∏≠‡∏ô Popup ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°
            document.getElementById('infoModal').classList.add('hidden');
        }

        // Script ‡πÄ‡∏î‡∏¥‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Tabs ‡πÅ‡∏•‡∏∞ Search
        let currentTab = 'watermark';

        function switchTab(tab) {
            currentTab = tab;
            document.getElementById('content-watermark').classList.add('hidden');
            document.getElementById('content-clean').classList.add('hidden');
            document.getElementById('content-' + tab).classList.remove('hidden');

            document.getElementById('btn-watermark').className = "flex-1 pb-3 text-center transition " + (tab === 'watermark' ? 'tab-active' : 'tab-inactive');
            document.getElementById('btn-clean').className = "flex-1 pb-3 text-center transition " + (tab === 'clean' ? 'tab-active' : 'tab-inactive');
            
            document.getElementById('searchInput').value = '';
            filterImages(); 
        }

        function filterImages() {
            let input = document.getElementById('searchInput').value.toLowerCase();
            let activeGridId = currentTab === 'watermark' ? 'grid-watermark' : 'grid-clean';
            let cards = document.getElementById(activeGridId).getElementsByClassName('image-card');

            for (let i = 0; i < cards.length; i++) {
                let name = cards[i].querySelector('.name-label').innerText.toLowerCase();
                cards[i].style.display = name.includes(input) ? "" : "none";
            }
        }
    </script>
</body>
</html>
